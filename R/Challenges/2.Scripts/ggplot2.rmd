---
title: "Prac"
author: "Basil"
date: "August 16, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:
###Package
```{r}
ipk<-function(pkg) {
  new.pkg<-list.of.pkgs[!(list.of.pkgs %in% installed.packages()[,"Package"])]
  if(length(new.pkg)) install.packages(new.pkg,repos='http://cran.us.r-project.org',dependencies =T)
  sapply(pkg,require,character.only=T)
}
list.of.pkgs<-c("ggplot2","dplyr","corrr","magrittr","plotly","shiny")
ipk(list.of.pkgs)
```

```{r cars}

```
### qplot 
```{r}
#base
attach(mpg)
glimpse(mpg) %>% summary()
plot(displ,hwy)
#gglot2
qplot(displ,hwy, data = mpg, col=drv) #scatter
qplot(displ,hwy,data=mpg,geom = c("point","smooth") ) 
qplot(displ, hwy,data=mpg,facets=.~drv)
# facets subsets data & includes two vars separated by ~, left is the rows, right is the cols
qplot(hwy,data=mpg,facets = drv~.,binwidth=2) 
```
```{r}
dat2<-read.csv(file.choose(),header = T)
head(dat2)
qplot(program_code,data=dat2,fill=program_code) #hist
qplot(program_code,data=dat2,geom="density")
qplot(program_code,data=dat2,geom="density",color=program_code) #density plot
```
###ggplot - aes()
```{r}
# aes() is passed either at ggplot(defaults) or specific layer
ggplot(mpg,aes(cyl,hwy)) + geom_point() #1
ggplot(mpg)+geom_point(aes(cyl,displ)) #2
# 3 ways of passing aes()
aes(mpg, cyl, disp) #a
aes_(~mpg,~cyl,~hwy) #b
aes_string("mpg","wt",col="cyl")
#example
ggplot(mtcars)+geom_point(aes_(~mpg,~wt,col=~cyl))
# Tidy plots
scatter_by<-function(data,...) {
  ggplot(data)+geom_point(aes(...))
}
scatter_by(mtcars, disp,drat)

```
## Sub-groups of aes(col,fil,alpha)
```{r}
#deafault 
bar_by<- function(data,...) {
  ggplot(data) + geom_bar(aes(...))
}
bar_by(mtcars,factor(cyl)) # default
bar_by(mtcars,factor(cyl),fill="black",colour="grey")


```
}

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
